# ๐ช ์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์ ์ค์ ๊ฐ์ด๋

## ๐ ๊ฐ์

์นด์นด์ค ๊ฐ๋ฐ์ ๋ฌธ์์ ๋ฐ๋ฅธ "์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์" ๊ธฐ๋ฅ์ ๊ตฌํํ์ต๋๋ค.

์ฌ์ฉ์๊ฐ ๋ก๊ทธ์์ ์ ๋ ๊ฐ์ง ์ต์์ ์ํํ ์ ์์ต๋๋ค:
1. **์ด ์๋น์ค๋ง ๋ก๊ทธ์์**: Townly์์๋ง ๋ก๊ทธ์์ (์นด์นด์ค๊ณ์์ ์์ง)
2. **์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์**: Townly + ์นด์นด์ค๊ณ์ ๋ชจ๋ ๋ก๊ทธ์์

## โ๏ธ ์ค์ ๋ฐฉ๋ฒ

### 1. ์นด์นด์ค ๋๋ฒจ๋กํผ์ค ์ค์

1. **์นด์นด์ค ๋๋ฒจ๋กํผ์ค** ์์: https://developers.kakao.com/
2. **๋ด ์ํ๋ฆฌ์ผ์ด์** โ **Townly** ์ํ
3. **์ํ ์ค์** โ **์นด์นด์ค ๋ก๊ทธ์ธ** ํด๋ฆญ
4. **๋ก๊ทธ์์ ๋ฆฌ๋ค์ด๋ํธ URI** ์น์์์ ๋ค์ URI **๋ชจ๋** ์ถ๊ฐ:

```
๊ฐ๋ฐํ๊ฒฝ: http://localhost:3000/logout-callback
์ด์ํ๊ฒฝ: https://towny-kr.vercel.app/logout-callback
```

โ๏ธ **์ค์**: ๋ URI๋ฅผ ๋ชจ๋ ์ถ๊ฐํด์ผ ๊ฐ๋ฐ๊ณผ ์ด์ ํ๊ฒฝ์์ ๋ชจ๋ ์๋ํฉ๋๋ค!

### 2. ํ๊ฒฝ ๋ณ์ ์ค์ (์ํ์ฌํญ)

`.env.local` ํ์ผ์ ์นด์นด์ค ํด๋ผ์ด์ธํธ ID ์ถ๊ฐ (์ด๋ฏธ ํ๋์ฝ๋ฉ๋์ด ์์ด์ ์ํ์ฌํญ):

```env
NEXT_PUBLIC_KAKAO_CLIENT_ID=2219dd4cc7903887f8833359aad5b294
```

## ๐ฏ ์ฌ์ฉ ๋ฐฉ๋ฒ

### ์ฌ์ฉ์ ๊ด์:
1. ๋ก๊ทธ์ธ ํ ์ฐ์๋จ ์ฌ์ฉ์ ๋ฒํผ ํด๋ฆญ
2. ๋ก๊ทธ์์ ๋ฐฉ์ ์ํ ๋ค์ด์ผ๋ก๊ทธ ํ์
3. ์ํ๋ ๋ก๊ทธ์์ ๋ฐฉ์ ์ํ:
   - **์๋น์ค๋ง ๋ก๊ทธ์์**: ์ฆ์ ๋ก๊ทธ์์
   - **์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์**: ์นด์นด์ค ์ํ ํ์ด์ง๋ก ์ด๋

### ์นด์นด์ค ๋ก๊ทธ์์ ์ํ ํ์ด์ง:
- **์ด ์๋น์ค๋ง ๋ก๊ทธ์์**: ์๋น์ค๋ง ๋ก๊ทธ์์ ํ `/logout-callback`์ผ๋ก ๋ฆฌ๋ค์ด๋ํธ
- **์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์**: ์นด์นด์ค๊ณ์๋ ๋ก๊ทธ์์ ํ `/logout-callback`์ผ๋ก ๋ฆฌ๋ค์ด๋ํธ

## ๐ง ๊ตฌํ๋ ํ์ผ๋ค

### 1. `/src/lib/utils/kakao-logout.ts`
- ์นด์นด์ค ๋ก๊ทธ์์ URL ์์ฑ ๋ฐ ์คํ ํจ์
- ํ๊ฒฝ ์ค์ ๊ด๋ฆฌ

### 2. `/src/components/KakaoLogoutMenu.tsx`
- ๋ก๊ทธ์์ ๋ฐฉ์ ์ํ ๋ค์ด์ผ๋ก๊ทธ
- ์๋น์ค๋ง ๋ก๊ทธ์์ vs ์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์

### 3. `/src/app/logout-callback/page.tsx`
- ์นด์นด์ค ๋ก๊ทธ์์ ์๋ฃ ํ ์ฝ๋ฐฑ ํ์ด์ง
- Clerk ์ธ์ ์๋ฆฌ ๋ฐ ํ์ผ๋ก ๋ฆฌ๋ค์ด๋ํธ

### 4. `/src/components/AuthButtons.tsx`
- ๊ธฐ์กด UserButton์ ์ปค์คํ ๋ก๊ทธ์์ ๋ฉ๋ด๋ก ๊ต์ฒด
- ์ฌ์ฉ์ ์๋ณด ํ์ ๋ฐ ๋ก๊ทธ์์ ๋ค์ด์ผ๋ก๊ทธ ํธ๋ฆฌ๊ฑฐ

## ๐งช ํ์คํธ ๋ฐฉ๋ฒ

1. **๋ก๊ทธ์ธ**: ์นด์นด์ค ๊ณ์์ผ๋ก ๋ก๊ทธ์ธ
2. **๋ก๊ทธ์์ ํ์คํธ**: ์ฐ์๋จ ์ฌ์ฉ์ ๋ฒํผ ํด๋ฆญ
3. **์๋น์ค๋ง ๋ก๊ทธ์์**: 
   - "์ด ์๋น์ค๋ง ๋ก๊ทธ์์" ์ํ
   - ์ฆ์ ๋ก๊ทธ์์๋๊ณ ํ ํ์ด์ง๋ก ์ด๋
   - ๋ค์ ๋ก๊ทธ์ธํ๋ฉด ๊ธฐ์กด ์นด์นด์ค ๊ณ์์ผ๋ก ์๋ ๋ก๊ทธ์ธ๋จ
4. **์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์**:
   - "์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์" ์ํ
   - ์นด์นด์ค ์ํ ํ์ด์ง๋ก ์ด๋
   - "์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์" ์ํ
   - ์๋ฃ ํ ํ ํ์ด์ง๋ก ๋ฆฌ๋ค์ด๋ํธ
   - ๋ค์ ๋ก๊ทธ์ธํ๋ฉด ์ ์นด์นด์ค ๊ณ์ ์ํ ๊ฐ๋ฅ

## ๐ ์ฐธ๊ณ ๋ฌธ์

- [์นด์นด์ค ๊ฐ๋ฐ์ ๋ฌธ์ - ์นด์นด์ค๊ณ์๊ณผ ํจ๊ป ๋ก๊ทธ์์](https://developers.kakao.com/docs/latest/ko/kakaologin/utilize#logout-with-kakao-account)
- [์นด์นด์ค ๋ก๊ทธ์์ ๋ฆฌ๋ค์ด๋ํธ URI ์ค์](https://developers.kakao.com/docs/latest/ko/kakaologin/common#logout-redirect-uri)

## ๐ ์๋ฃ!

์ด์ ์ฌ์ฉ์๊ฐ ๋ก๊ทธ์์ ์ ์นด์นด์ค๊ณ์๋ ํจ๊ป ๋ก๊ทธ์์ํ ์ ์์ด์, ๋ค๋ฅธ ์นด์นด์ค ๊ณ์์ผ๋ก ์ฝ๊ฒ ๋ก๊ทธ์ธํ ์ ์์ต๋๋ค.
